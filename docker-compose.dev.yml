services:
  dev-app:
    container_name: vo-tools-dev
    image: vo-tools:dev
    build:
      context: .
      dockerfile: Dockerfile
      target: runner
    restart: unless-stopped
    ports:
      - "3011:3000"  # Next.js frontend (dev port)
      - "5001:5000"  # Python API backend (dev port)
    environment:
      - NODE_ENV=production
      - NEXT_PUBLIC_API_URL=http://localhost:5001
      - FLASK_API_URL=http://localhost:5000
      - ALLOWED_ORIGINS=http://localhost:3011,http://localhost:3000,http://dev.votools.tohareprod.com,https://dev.votools.tohareprod.com,https://voiceover-tools.com,https://www.voiceover-tools.com
      - LOG_LEVEL=DEBUG  # More verbose logging for development
      - API_KEY=${API_KEY:-dev-api-key-change-in-production}
    labels:
      - "app.environment=development"
      - "app.version=dev"
